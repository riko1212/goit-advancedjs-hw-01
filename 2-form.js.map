{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FEEDBACK_STORAGE_KEY = 'feedback-form-data';\n\nconst feedbackState = {\n  email: '',\n  message: '',\n};\n\nconst clearFeedbackState = state => {\n  Object.keys(state).forEach(key => {\n    state[key] = '';\n  });\n};\n\nconst loadFeedbackState = () => {\n  const savedData = JSON.parse(localStorage.getItem(FEEDBACK_STORAGE_KEY));\n  if (!savedData) return feedbackState;\n\n  Object.keys(savedData).forEach(key => {\n    feedbackState[key] = savedData[key];\n  });\n\n  return feedbackState;\n};\n\nconst isFeedbackStateValid = () => {\n  const state = loadFeedbackState();\n  return Object.values(state).every(value => value);\n};\n\nconst populateFeedbackForm = form => {\n  const state = loadFeedbackState();\n  Object.keys(state).forEach(key => {\n    form[key].value = state[key];\n  });\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const feedbackForm = document.querySelector('.feedback-form');\n\n  feedbackForm.addEventListener('input', event => {\n    feedbackState[event.target.name] = event.target.value.trim();\n    localStorage.setItem(FEEDBACK_STORAGE_KEY, JSON.stringify(feedbackState));\n  });\n\n  populateFeedbackForm(feedbackForm);\n\n  feedbackForm.addEventListener('submit', event => {\n    event.preventDefault();\n\n    if (isFeedbackStateValid()) {\n      console.log(feedbackState);\n      localStorage.removeItem(FEEDBACK_STORAGE_KEY);\n      feedbackForm.reset();\n      clearFeedbackState(feedbackState);\n    } else {\n      alert('Please fill in all fields.');\n    }\n  });\n});\n"],"names":["FEEDBACK_STORAGE_KEY","feedbackState","clearFeedbackState","state","key","loadFeedbackState","savedData","isFeedbackStateValid","value","populateFeedbackForm","form","feedbackForm","event"],"mappings":"oCAAA,MAAMA,EAAuB,qBAEvBC,EAAgB,CACpB,MAAO,GACP,QAAS,EACX,EAEMC,EAAqBC,GAAS,CAClC,OAAO,KAAKA,CAAK,EAAE,QAAQC,GAAO,CAChCD,EAAMC,CAAG,EAAI,EACjB,CAAG,CACH,EAEMC,EAAoB,IAAM,CAC9B,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQN,CAAoB,CAAC,EACvE,OAAKM,GAEL,OAAO,KAAKA,CAAS,EAAE,QAAQF,GAAO,CACpCH,EAAcG,CAAG,EAAIE,EAAUF,CAAG,CACtC,CAAG,EAEMH,CACT,EAEMM,EAAuB,IAAM,CACjC,MAAMJ,EAAQE,EAAmB,EACjC,OAAO,OAAO,OAAOF,CAAK,EAAE,MAAMK,GAASA,CAAK,CAClD,EAEMC,EAAuBC,GAAQ,CACnC,MAAMP,EAAQE,EAAmB,EACjC,OAAO,KAAKF,CAAK,EAAE,QAAQC,GAAO,CAChCM,EAAKN,CAAG,EAAE,MAAQD,EAAMC,CAAG,CAC/B,CAAG,CACH,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMO,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAASC,GAAS,CAC9CX,EAAcW,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,KAAM,EAC5D,aAAa,QAAQZ,EAAsB,KAAK,UAAUC,CAAa,CAAC,CAC5E,CAAG,EAEDQ,EAAqBE,CAAY,EAEjCA,EAAa,iBAAiB,SAAUC,GAAS,CAC/CA,EAAM,eAAgB,EAElBL,EAAoB,GACtB,QAAQ,IAAIN,CAAa,EACzB,aAAa,WAAWD,CAAoB,EAC5CW,EAAa,MAAO,EACpBT,EAAmBD,CAAa,GAEhC,MAAM,4BAA4B,CAExC,CAAG,CACH,CAAC"}